---
import Search from 'astro-pagefind/components/Search';

const { title, sidebarLinks, tableOfContents } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href={`${import.meta.env.BASE_URL} + favicon.svg`} />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
	</head>
	<body>
	<main>
		<header>
			I am header
			<!-- <Search id="Search" /> -->
		</header>
		<aside>
			<nav>
				{
					sidebarLinks && sidebarLinks.map((link) => (
						<a href={link.href}>{link.title}</a>
					))
				}
			</nav>
		</aside>
      <slot /> 
		<aside>
			<!-- Right sidebar content can go here -->
			 <nav>
			{
				tableOfContents && tableOfContents.map((item) => (
					<a href={`#${item.slug}`} style={`margin-left: ${(item.depth - 1) * 10}px`}>
			{item.text}
		  </a>
				))
			}
			 </nav>
		</aside>
    </main>
	</body>
</html>

<style>
	html,
	body {
		margin: 0;
		width: 100%;
		height: 100%;
	}

	main {
		display: flex;
		min-height: 100vh;
	}
	aside {
		width: 200px;
		background: #f4f4f4;
		padding: 1rem;
		box-sizing: border-box;
		overflow-y: auto;
	}

	aside nav {
		display: flex;
		flex-direction: column;
		gap: 0.5rem;
	}

	header {
		position: fixed;
		top: 0;
		left: 0;
		width: 100%;
		height: 50px;
		background: #333;
		color: white;
		display: flex;
		align-items: center;
		padding: 0 1rem;
		box-sizing: border-box;
		z-index: 1000;
	}
</style>
